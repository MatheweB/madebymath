---
import Icons from "./Icons.astro";

interface FooterLink {
  label: string;
  href: string;
  external?: boolean;
}

interface Props {
  name: string;
  links: FooterLink[];
  pyfreeform?: { href: string; logo: string };
}

const { name, links, pyfreeform } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
const year = new Date().getFullYear();
---

<footer class="footer">
  {pyfreeform && (
    <div class="footer-pyfreeform">
      <span class="footer-pyfreeform-text font-sans">All art made with</span>
      <a href={pyfreeform.href} class="footer-pyfreeform-link" target="_blank" rel="noopener noreferrer">
        <img src={`${base}${pyfreeform.logo}`} alt="pyfreeform" class="footer-pyfreeform-logo" />
        <span class="font-sans">pyfreeform</span>
      </a>
    </div>
  )}
  <div class="footer-inner">
    <p class="footer-copy font-mono">&copy; {year} {name}</p>
    <div class="footer-links">
      {links.map((link) => (
        <a
          href={link.href}
          class="footer-link font-sans"
          target={link.external ? "_blank" : undefined}
          rel={link.external ? "noopener noreferrer" : undefined}
        >
          {link.label}
          {link.external && <Icons name="external" />}
        </a>
      ))}
    </div>
  </div>
</footer>
