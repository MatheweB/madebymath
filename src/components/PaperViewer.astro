---
interface Props {
  title: string;
  year?: string | null;
  url: string;
}

const { title, year, url } = Astro.props;
const base = import.meta.env.BASE_URL;
const pdfUrl = `${base}${url}`;
---

<div class="paper-viewer">
  <a href={pdfUrl} target="_blank" rel="noopener noreferrer" class="paper-link">
    <span class="paper-icon-box">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
        <polyline points="14 2 14 8 20 8" />
        <line x1="16" y1="13" x2="8" y2="13" />
        <line x1="16" y1="17" x2="8" y2="17" />
      </svg>
    </span>
    <div class="paper-meta">
      <div class="paper-title-text font-sans">{title}</div>
      {year && <div class="paper-year font-mono">{year}</div>}
    </div>
    <svg class="paper-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
      <polyline points="15 3 21 3 21 9" />
      <line x1="10" y1="14" x2="21" y2="3" />
    </svg>
  </a>
</div>
