---
import Icons from "./Icons.astro";

interface Props {
  title: string;
  year?: string | null;
  url: string;
}

const { title, year, url } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
const pdfUrl = `${base}${url}`;
---

<div class="paper-viewer">
  <a href={pdfUrl} target="_blank" rel="noopener noreferrer" class="paper-link">
    <span class="paper-icon-box">
      <Icons name="document" size={16} />
    </span>
    <div class="paper-meta">
      <div class="paper-title-text font-sans">{title}</div>
      {year && <div class="paper-year font-mono">{year}</div>}
    </div>
    <span class="paper-arrow"><Icons name="external" size={16} /></span>
  </a>
</div>
